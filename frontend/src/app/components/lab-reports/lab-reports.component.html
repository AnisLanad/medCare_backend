<div class="flex justify-center items-start bg-gray-100 p-6 min-h-screen">
  <div class="bg-white shadow-lg rounded-2xl p-6 max-w-3xl w-full text-center" *ngIf="reports.length > 0; else loading">
    
    <h2 class="text-2xl font-bold text-gray-800 mb-4">
      Lab Report
    </h2>

    <ul class="space-y-4 text-left">
      <li class="flex justify-between items-center">
        <span class="font-semibold text-gray-700">Blood Pressure:</span> 
        <span class="text-gray-800 font-medium">{{ reports[currentIndex]?.blood_pressure || 'N/A' }} <span class="text-gray-500">mmHg</span></span>
      </li>
      <li class="flex justify-between items-center">
        <span class="font-semibold text-gray-700">Blood Sugar:</span> 
        <span class="text-gray-800 font-medium">{{ reports[currentIndex]?.blood_sugar || 'N/A' }} <span class="text-gray-500">mg/dL</span></span>
      </li>
      <li class="flex justify-between items-center">
        <span class="font-semibold text-gray-700">Cholesterol:</span> 
        <span class="text-gray-800 font-medium">{{ reports[currentIndex]?.cholesterol || 'N/A' }} <span class="text-gray-500">mg/dL</span></span>
      </li>
      <li class="flex justify-between items-center">
        <span class="font-semibold text-gray-700">Sodium (Na):</span> 
        <span class="text-gray-800 font-medium">{{ reports[currentIndex]?.Na || 'N/A' }} <span class="text-gray-500">mmol/L</span></span>
      </li>
      <li class="flex justify-between items-center">
        <span class="font-semibold text-gray-700">Hemoglobin:</span> 
        <span class="text-gray-800 font-medium">{{ reports[currentIndex]?.hemoglobine || 'N/A' }} <span class="text-gray-500">g/dL</span></span>
      </li>
      <li class="flex justify-between items-center">
        <span class="font-semibold text-gray-700">Iron:</span> 
        <span class="text-gray-800 font-medium">{{ reports[currentIndex]?.iron || 'N/A' }} <span class="text-gray-500">µg/dL</span></span>
      </li>
    </ul>

    <p class="text-gray-600 mt-4">
      <strong>Report Date:</strong> {{ reports[currentIndex]?.date_signed }}
    </p>

    <!-- Chart Container -->
    <div class="mt-6 bg-gray-100 p-4 rounded-lg shadow-md">
      <canvas #labReportChart *ngIf="reports[currentIndex]?.generate_graph"></canvas>
    </div>

    <div class="flex justify-between items-center mt-6">
      <button 
        (click)="prevReport()" 
        [disabled]="currentIndex === 0"
        class="bg-blue-500 text-white px-5 py-2 rounded-lg shadow-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed">
        ⬅️ Previous
      </button>

      <span class="text-lg font-semibold text-gray-700">
        {{ currentIndex + 1 }} / {{ reports.length }}
      </span>

      <button 
        (click)="nextReport()" 
        [disabled]="currentIndex === reports.length - 1"
        class="bg-blue-500 text-white px-5 py-2 rounded-lg shadow-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed">
        Next ➡️
      </button>
    </div>
  </div>

  <ng-template #loading>
    <p class="text-gray-600 text-lg">Loading reports...</p>
  </ng-template>
</div>
